{"version":3,"file":"index.js","sources":["../src/js/api.js","../src/js/search-form.js","../src/js/pagination.js","../src/js/event.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'uHSLi07StIOlriMPxJGxUbSYsHDs6AFx';\naxios.defaults.baseURL = 'https://app.ticketmaster.com/discovery/v2/';\n\nexport async function fetchData(page, value) {\n  const asyncParams = {\n    params: {\n      apikey: API_KEY,\n      page,\n      keyword: value,\n    },\n  };\n  const response = await axios.get('events.json', asyncParams);\n  return response.data;\n}\n","import { renderEvent } from './event';\nimport { page } from './pagination';\n\nconst gallery = document.querySelector('.gallery-events');\nconst form = document.querySelector('.form');\nexport let value = '';\n\nconst handleSubmit = event => {\n  event.preventDefault();\n  gallery.innerHTML = '';\n  value = event.target.elements.input.value;\n  renderEvent(page, value);\n  form.reset();\n};\n\nform.addEventListener('submit', handleSubmit);\n","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport { renderEvent } from './event';\nimport { value } from './search-form';\n\nconst options = {\n  totalItems: 0,\n  itemsPerPage: 20,\n  visiblePages: 5,\n  page: 1,\n  centerAlign: false,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage:\n      '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n      '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>',\n  },\n};\n\nconst pagination = new Pagination('pagination', options);\nexport const page = pagination.getCurrentPage();\nexport function reset(totalItems) {\n  pagination.reset(totalItems);\n}\npagination.on('afterMove', event => {\n  const currentPage = event.page;\n  console.log(currentPage);\n  renderEvent(currentPage, value);\n});\n","import { fetchData } from './api';\nimport { page, reset } from './pagination';\nimport { value } from './search-form';\n\nconst gallery = document.querySelector('.gallery-events');\nconst eventsTemplate = arrayEvents => {\n  const markup = arrayEvents\n    .map(\n      ({ name }) =>\n        `<li>\n        <p>${name}</p>\n    </li>`\n    )\n    .join('');\n  gallery.innerHTML = markup;\n};\n\nexport async function renderEvent(page, value) {\n  try {\n    const arrayEvent = await fetchData(page, value);\n    if (!arrayEvent.page.totalElements) {\n      alert('Try again!');\n      return;\n    }\n\n    if (page === 1) {\n      reset(arrayEvent.page.totalElements);\n    }\n    eventsTemplate(arrayEvent._embedded.events);\n  } catch (error) {\n    console.log(error);\n  }\n}\nrenderEvent(page, value);\n"],"names":["API_KEY","axios","fetchData","page","value","asyncParams","gallery","form","handleSubmit","event","renderEvent","options","pagination","Pagination","reset","totalItems","currentPage","eventsTemplate","arrayEvents","markup","name","arrayEvent","error"],"mappings":"6vBAEA,MAAMA,EAAU,mCAChBC,EAAM,SAAS,QAAU,6CAElB,eAAeC,EAAUC,EAAMC,EAAO,CAC3C,MAAMC,EAAc,CAClB,OAAQ,CACN,OAAQL,EACR,KAAAG,EACA,QAASC,CACV,CACL,EAEE,OADiB,MAAMH,EAAM,IAAI,cAAeI,CAAW,GAC3C,IAClB,CCZA,MAAMC,EAAU,SAAS,cAAc,iBAAiB,EAClDC,EAAO,SAAS,cAAc,OAAO,EACpC,IAAIH,EAAQ,GAEnB,MAAMI,EAAeC,GAAS,CAC5BA,EAAM,eAAc,EACpBH,EAAQ,UAAY,GACpBF,EAAQK,EAAM,OAAO,SAAS,MAAM,MACpCC,EAAYP,EAAMC,CAAK,EACvBG,EAAK,MAAK,CACZ,EAEAA,EAAK,iBAAiB,SAAUC,CAAY,ECV5C,MAAMG,EAAU,CACd,WAAY,EACZ,aAAc,GACd,aAAc,EACd,KAAM,EACN,YAAa,GACb,mBAAoB,kBACpB,kBAAmB,iBACnB,SAAU,CACR,KAAM,gDACN,YACE,iEACF,WACE,mGAGF,mBACE,gHAGF,WACE,mGAGH,CACH,EAEMC,EAAa,IAAIC,EAAW,aAAcF,CAAO,EAC1CR,EAAOS,EAAW,iBACxB,SAASE,EAAMC,EAAY,CAChCH,EAAW,MAAMG,CAAU,CAC7B,CACAH,EAAW,GAAG,YAAaH,GAAS,CAClC,MAAMO,EAAcP,EAAM,KAC1B,QAAQ,IAAIO,CAAW,EACvBN,EAAYM,EAAaZ,CAAK,CAChC,CAAC,ECrCD,MAAME,EAAU,SAAS,cAAc,iBAAiB,EAClDW,EAAiBC,GAAe,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CAAE,KAAAE,CAAM,IACP;AAAA,aACKA,CAAI;AAAA,UAEZ,EACA,KAAK,EAAE,EACVd,EAAQ,UAAYa,CACtB,EAEO,eAAeT,EAAYP,EAAMC,EAAO,CAC7C,GAAI,CACF,MAAMiB,EAAa,MAAMnB,EAAUC,EAAMC,CAAK,EAC9C,GAAI,CAACiB,EAAW,KAAK,cAAe,CAClC,MAAM,YAAY,EAClB,MACD,CAEGlB,IAAS,GACXW,EAAMO,EAAW,KAAK,aAAa,EAErCJ,EAAeI,EAAW,UAAU,MAAM,CAC3C,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CACAZ,EAAYP,EAAMC,CAAK"}