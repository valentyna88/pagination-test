{"version":3,"file":"index.js","sources":["../src/js/api.js","../src/js/pagination.js","../src/js/event.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'uHSLi07StIOlriMPxJGxUbSYsHDs6AFx';\naxios.defaults.baseURL = 'https://app.ticketmaster.com/discovery/v2/';\n\nexport async function fetchData(page) {\n  const asyncParams = {\n    params: {\n      apikey: API_KEY,\n      page,\n    },\n  };\n  const response = await axios.get('events.json', asyncParams);\n  return response.data;\n}\n","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport { renderEvent } from './event';\n\nconst options = {\n  totalItems: 0,\n  itemsPerPage: 20,\n  visiblePages: 5,\n  page: 1,\n  centerAlign: false,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage:\n      '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n      '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>',\n  },\n};\n\nconst pagination = new Pagination('pagination', options);\nexport const page = pagination.getCurrentPage();\nexport function reset(totalItems) {\n  pagination.reset(totalItems);\n}\npagination.on('afterMove', event => {\n  const currentPage = event.page;\n  console.log(currentPage);\n  renderEvent(currentPage);\n});\n","import { fetchData } from './api';\nimport { page, reset } from './pagination';\n\nconst gallery = document.querySelector('.gallery-events');\nconst eventsTemplate = arrayEvents => {\n  const markup = arrayEvents\n    .map(\n      ({ name }) =>\n        `<li>\n        <p>${name}</p>\n    </li>`\n    )\n    .join('');\n  gallery.innerHTML = markup;\n};\n\nexport async function renderEvent(page) {\n  const arrayEvent = await fetchData(page);\n  if (page === 1) {\n    reset(arrayEvent.page.totalElements);\n  }\n  eventsTemplate(arrayEvent._embedded.events);\n}\nrenderEvent(page);\n"],"names":["API_KEY","axios","fetchData","page","asyncParams","options","pagination","Pagination","reset","totalItems","event","currentPage","renderEvent","gallery","eventsTemplate","arrayEvents","markup","name","arrayEvent"],"mappings":"6vBAEA,MAAMA,EAAU,mCAChBC,EAAM,SAAS,QAAU,6CAElB,eAAeC,EAAUC,EAAM,CACpC,MAAMC,EAAc,CAClB,OAAQ,CACN,OAAQJ,EACR,KAAAG,CACD,CACL,EAEE,OADiB,MAAMF,EAAM,IAAI,cAAeG,CAAW,GAC3C,IAClB,CCVA,MAAMC,EAAU,CACd,WAAY,EACZ,aAAc,GACd,aAAc,EACd,KAAM,EACN,YAAa,GACb,mBAAoB,kBACpB,kBAAmB,iBACnB,SAAU,CACR,KAAM,gDACN,YACE,iEACF,WACE,mGAGF,mBACE,gHAGF,WACE,mGAGH,CACH,EAEMC,EAAa,IAAIC,EAAW,aAAcF,CAAO,EAC1CF,EAAOG,EAAW,iBACxB,SAASE,EAAMC,EAAY,CAChCH,EAAW,MAAMG,CAAU,CAC7B,CACAH,EAAW,GAAG,YAAaI,GAAS,CAClC,MAAMC,EAAcD,EAAM,KAC1B,QAAQ,IAAIC,CAAW,EACvBC,EAAYD,CAAW,CACzB,CAAC,ECrCD,MAAME,EAAU,SAAS,cAAc,iBAAiB,EAClDC,EAAiBC,GAAe,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CAAE,KAAAE,CAAM,IACP;AAAA,aACKA,CAAI;AAAA,UAEZ,EACA,KAAK,EAAE,EACVJ,EAAQ,UAAYG,CACtB,EAEO,eAAeJ,EAAYT,EAAM,CACtC,MAAMe,EAAa,MAAMhB,EAAUC,CAAI,EACnCA,IAAS,GACXK,EAAMU,EAAW,KAAK,aAAa,EAErCJ,EAAeI,EAAW,UAAU,MAAM,CAC5C,CACAN,EAAYT,CAAI"}